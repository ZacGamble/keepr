import{G as K,u as P,H as C,c as i,M as p,a as g,o as r,b as c,d as e,t as d,n as v,F as m,s as y,e as w,y as S,z as M,x as u,I as N}from"./vendor.8e439640.js";import{a as O,A as n,_ as B,k,P as V,v as E,l as j}from"./index.9af00246.js";class U{async getUserProfile(l){const a=await O.get("api/profiles/"+l);n.activeProfile=a.data}}const z=new U;const T={setup(){const o=K(),l=P();return C(async()=>{try{o.params.id&&(await z.getUserProfile(o.params.id),await k.getUserKeeps(o.params.id),await E.getUserVaults(o.params.id))}catch(a){j.error(a),V.toast(a.message,"error")}}),{route:o,account:i(()=>n.account),profile:i(()=>n.activeProfile),keeps:i(()=>n.keeps),vaults:i(()=>n.userVaults),numberOfKeeps:i(()=>n.keeps.length),numberOfVaults:i(()=>n.userVaults.length),async openKeepModal(a){n.activeKeep=a,p.getOrCreateInstance(document.getElementById("keep-modal")).show(),await k.incrementViews()},async goToVault(a){const s=n.account.id;if(a.isPrivate&&a.creatorId!=s){l.push({name:"Home"}),V.toast("Sorry, you weren't invited..");return}n.activeVault=a,l.push({name:"Vault",params:{id:a.id}})},createVault(){p.getOrCreateInstance(document.getElementById("new-vault-modal")).show()},createKeep(){p.getOrCreateInstance(document.getElementById("new-keep-modal")).show()}}}},_=o=>(S("data-v-1608a977"),o=o(),M(),o),A={class:"container"},F={class:"row"},H={class:"d-flex"},R=["src"],D={class:"d-flex flex-column mt-5"},G=_(()=>e("hr",{class:"mt-3"},null,-1)),L=u(" Vaults: "),q={key:0,class:"fw-bold fs-1 text-primary plus p-1"},J={class:"row"},Q=["onClick"],W={class:"d-flex justify-content-between"},X={class:""},Y=_(()=>e("br",null,null,-1)),Z=_(()=>e("br",null,null,-1)),$={class:"wrapper"},ee=u(" Keeps: "),se={key:0,class:"fw-bold fs-1 text-primary p-1 plus"},te={class:"masonry-container-profile"},ae={class:"p-2"},oe=["onClick","src","title"],ne={class:"d-flex justify-content-between",style:{height:"0px"}},le={class:"keep-name"};function re(o,l,a,s,ce,ie){var f,h;const x=g("NewKeepModal"),b=g("NewVaultModal");return r(),c(m,null,[e("div",A,[e("div",F,[e("div",H,[e("img",{src:(f=s.profile)==null?void 0:f.picture,alt:"",class:"img-clamp me-5 mt-5"},null,8,R),e("div",D,[e("h1",null,d((h=s.profile)==null?void 0:h.name),1),e("span",null,"Vaults: "+d(s.numberOfVaults),1),e("span",null,"Keeps: "+d(s.numberOfKeeps),1)])]),G]),e("h3",{class:"my-3",onClick:l[0]||(l[0]=t=>s.createVault())},[L,s.route.params.id==s.account.id?(r(),c("i",q,"+")):v("",!0)]),e("div",J,[(r(!0),c(m,null,y(s.vaults,t=>(r(),c("div",{class:"col-sm-6 col-md-4 col-lg-2 p-2",key:t.id},[e("div",{class:"p-2 mt-2 vault rounded selectable",onClick:I=>s.goToVault(t),style:N([{"background-size":"cover"},`background-image: url(${t.img})`])},[e("div",W,[e("h5",X,[u(d(t.name)+" ",1),Y,Z,u(" "+d(t.description),1)])])],12,Q)]))),128))]),e("div",$,[e("h3",{class:"my-3",onClick:l[1]||(l[1]=t=>s.createKeep())},[ee,s.route.params.id==s.account.id?(r(),c("i",se,"+")):v("",!0)]),e("div",te,[(r(!0),c(m,null,y(s.keeps,t=>(r(),c("div",{class:"keep-container",key:t.id},[e("div",ae,[e("img",{onClick:I=>s.openKeepModal(t),src:t.img,alt:"keep image",class:"img-fluid img-custom",title:"Open "+t.name+" details"},null,8,oe),e("div",ne,[e("h5",le,d(t.name),1)])])]))),128))])])]),w(x),w(b)],64)}var pe=B(T,[["render",re],["__scopeId","data-v-1608a977"]]);export{pe as default};
